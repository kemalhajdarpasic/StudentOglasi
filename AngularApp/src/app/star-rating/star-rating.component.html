<div class="container">
<label class="prosjecnaOcjena">{{ this.prosjecnaOcjena }}</label>
<svg style="width: 26.73px; height: 25.77px; margin: 0 4px">
  <path fill="#FFD700" d="M 18.5 28.5 l -11.168 5.872 l 2.132 -12.436 L 0.93 13.128 l 12.486 -1.814 L 18.5 0 l 5.584 11.314 l 12.486 1.814 l -9.033 8.808 l 2.132 12.436" transform="scale(0.75)"/>
</svg>
<button  *ngIf="loginInfo().autentifikacijaToken?.korisnik?.isStudent" class="btnDodajOcjenu" mat-button (click)="showRatingForm()"> <mat-icon style="font-size: 33px;margin-right: 10px;margin-bottom: 9px;">add</mat-icon></button>
</div>
<div class="overlay" *ngIf="showForm">
  <mat-card class="rating-form">
    <div class="form-title">
    <h2>{{this.naziv}}</h2>
    </div>
    <div class="star-rating">
      <svg class="star" *ngFor="let _ of [].constructor(totalStars); let i = index"
           (mouseover)="setRating(i+1)" (click)="submitRating(i+1)">
        <ng-container *ngIf="rating >= i + 1; then fullStar else emptyStar"></ng-container>
        <ng-template #fullStar>
          <path fill="#FFD700" d="M 18.5 28.5 l -11.168 5.872 l 2.132 -12.436 L 0.93 13.128 l 12.486 -1.814 L 18.5 0 l 5.584 11.314 l 12.486 1.814 l -9.033 8.808 l 2.132 12.436" />
        </ng-template>
        <ng-template #emptyStar>
          <path fill="none" stroke="#FFD700" stroke-width="2" d="M 18.5,28.5 L 7.332,34.372 L 9.464,21.936 L 0.93,13.128 L 13.416,11.314 L 18.5,0 L 23.084,11.314  L 35.57,13.128  L 27.036,21.936 L 29.168,34.372  L 18.5,28.5" />
        </ng-template>
      </svg>
    </div>
    <div class="comment-field">
      <mat-form-field>
        <mat-label>Komentar</mat-label>
        <textarea  matInput [(ngModel)]="this.komentar" placeholder="Dodaj komentar"></textarea>
      </mat-form-field>
    </div>
    <div class="form-actions">
      <button mat-raised-button color="primary" style="margin-left: 45px;width: 260px;height: 40px; border-radius: 8px;" (click)="snimi()">Po≈°alji ocjenu</button>
      <button mat-button color="primary" style="width: 100%; height: 60px;" (click)="hideForm()">Odustani</button>
    </div>
  </mat-card>
</div>
